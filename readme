---

# ğŸ“„ VisÃ£o Geral do Docker Compose

Este documento fornece uma visÃ£o geral do arquivo `docker-compose` fornecido para criar serviÃ§os Kafka e Zookeeper. TambÃ©m explica o exemplo de produÃ§Ã£o e consumo de mensagens.

---

## ğŸš€ ServiÃ§os (services)

### 1. ğŸ¦“ Zookeeper:

- **Imagem**: Utilizada a versÃ£o mais recente do Zookeeper da Bitnami.
- **Portas**: 2181 (padrÃ£o do Zookeeper).
- **Environment**:
  - `ALLOW_ANONYMOUS_LOGIN=yes`: Permite o login anÃ´nimo no Zookeeper.

### 2. ğŸ“¬ Kafka:

- **Imagem**: Utilizada a versÃ£o mais recente do Kafka da Bitnami.
- **Restart**: Reinicia em caso de falha do container.
- **Portas**: 9092 (padrÃ£o do Kafka).
- **Volumes**: Dados persistentes armazenados em `kafka-data`.
- **Environment**:
  - `KAFKA_BROKER_ID=1`: Identificador Ãºnico para o broker.
  - `KAFKA_LISTENERS`: EndereÃ§o/porta de escuta.
  - `KAFKA_ADVERTISED_LISTENERS`: EndereÃ§o/porta anunciados.
  - `KAFKA_ZOOKEEPER_CONNECT`: String de conexÃ£o Zookeeper.
  - `KAFKA_NUM_PARTITIONS=3`: PartiÃ§Ãµes por tÃ³pico.
  - `KAFKA_ALLOW_PLAINTEXT_LISTENER=yes`: ConexÃµes sem criptografia.
- **Depends_on**: Kafka inicia apÃ³s o serviÃ§o Zookeeper.

---

## ğŸ’½ Volumes

- **kafka-data**: Armazena dados persistentes do Kafka.

---

# ğŸ“ Exemplo de ProduÃ§Ã£o e Consumo de Mensagens

## ğŸ™ï¸ Producer:

O script Python exemplifica um produtor Kafka:

1. ConfiguraÃ§Ã£o via `bootstrap.servers`.
2. Loop de inserÃ§Ã£o de mensagens pelo usuÃ¡rio.
3. Mensagens sÃ£o enviadas para o tÃ³pico `begin`.
4. Finalize com `sair`.

## ğŸ“» Consumer:

Exemplo de um consumidor Kafka:

1. Configura o servidor e define `group.id`.
2. Assina o tÃ³pico `begin`.
3. Loop de leitura de mensagens.
4. Mostra mensagens recebidas.
5. Mostra erros, se houver.
6. Finalize com `CTRL + C`.

---

## ğŸ› ï¸ InstruÃ§Ãµes para ExecuÃ§Ã£o

1. `docker-compose up` para iniciar.
2. Novo terminal: `python producer.py`.
3. Outro terminal: `python consumer.py`.
4. Comunique-se entre produtor e consumidor.
5. Encerre com `CTRL + C` e `docker-compose down`.

---
